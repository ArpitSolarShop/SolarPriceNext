export const generateQuoteHtml = (data: any): string => {
    const { customerInfo, selectedProduct, calculations } = data;
    const { basePrice, wirePrice, heightPrice, outOfVnsPrice, subtotal, gstAmount, total } = calculations;
    const formatCurrency = (val: number) => new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR' }).format(val);
    return `<!DOCTYPE html><html><head><style>body{font-family:Helvetica,Arial,sans-serif;font-size:12px;color:#333;}.container{max-width:800px;margin:auto;padding:20px;border:1px solid #eee;}.header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:30px;}.header img{max-width:150px;}.company-details{text-align:right;font-size:11px;}.customer-details{margin-bottom:30px;}.quote-title{text-align:center;font-size:24px;margin-bottom:20px;text-decoration:underline;}table{width:100%;border-collapse:collapse;margin-bottom:20px;}th,td{border:1px solid #ddd;padding:8px;text-align:left;}th{background-color:#f2f2f2;}.total-row{background-color:#f2f2f2;font-weight:bold;}.footer{text-align:center;font-size:10px;color:#777;margin-top:30px;}</style></head><body><div class="container"><div class="header"><img src="https://vqusgnzkxkzidjsohips.supabase.co/storage/v1/object/public/quotes/logo.png" alt="Company Logo"><div class="company-details"><strong>Arpit Solar</strong><br>Sh16/114-25-K-2, Sharvodayanagar<br>Varanasi 221003 (UP)<br><strong>GSTIN:</strong> 09APKPM6299L1ZW<br><strong>Contact:</strong> 9044555572 | info@arpitsolar.com</div></div><h1 class="quote-title">Quotation</h1><div class="customer-details"><strong>To:</strong> ${customerInfo.name}<br><strong>Address:</strong> ${customerInfo.address}<br><strong>Phone:</strong> ${customerInfo.phone}<br><strong>Date:</strong> ${new Date().toLocaleDateString('en-GB')}</div><table><tr><th>Description</th><th>Details</th></tr><tr><td>System Capacity</td><td>${selectedProduct.kWp} kWp</td></tr><tr><td>Phase</td><td>${selectedProduct.phase}</td></tr><tr><td>Module Type</td><td>${selectedProduct.module} W</td></tr><tr><td>Module Quantity</td><td>${selectedProduct.qty}</td></tr></table><table><tr><th>Pricing</th><th style="text-align:right;">Amount</th></tr><tr><td>Base System Price</td><td style="text-align:right;">${formatCurrency(basePrice)}</td></tr>${wirePrice > 0 ? `<tr><td>Extra Wire Cost</td><td style="text-align:right;">${formatCurrency(wirePrice)}</td></tr>` : ''}${heightPrice > 0 ? `<tr><td>Extra Height Cost</td><td style="text-align:right;">${formatCurrency(heightPrice)}</td></tr>` : ''}${outOfVnsPrice > 0 ? `<tr><td>Out of Varanasi Charge</td><td style="text-align:right;">${formatCurrency(outOfVnsPrice)}</td></tr>` : ''}<tr style="font-weight: bold;"><td>Subtotal</td><td style="text-align:right;">${formatCurrency(subtotal)}</td></tr><tr><td>GST @ 8.9%</td><td style="text-align:right;">${formatCurrency(gstAmount)}</td></tr><tr class="total-row"><td style="font-size: 16px;">Total Amount</td><td style="text-align:right; font-size: 16px;">${formatCurrency(total)}</td></tr></table><div class="footer">This is a computer-generated quotation.</div></div></body></html>`;
};